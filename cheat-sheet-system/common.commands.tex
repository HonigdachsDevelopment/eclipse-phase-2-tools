

% For abbreviations such as i.e., e.g., â€¦
% Also, omit final dot from each def.
\ExplSyntaxOn
\newrobustcmd\latinabbrev[1]{
  \peek_meaning:NTF . {% Same as \@ifnextchar
    #1\@}%
  { \peek_catcode:NTF a {% Check whether next char has same catcode as \'a, i.e., is a letter
      #1.\@ }%
    {#1.\@}}}
\ExplSyntaxOff


% COLORS
\DefineNamedColor{named}{eclipsered}{rgb}{0.686,0.066,0.082}
\definecolor{tablecolor}{named}{eclipsered}


% CUSTOM COMMANDS AND ABBREVIATIONS
\newrobustcmd{\todo}[1]{{\color{red} TODO: #1} \typeout{TODO TODO TODO #1}}
\newrobustcmd\nobrkhyph{\mbox{-}}

\newrobustcmd{\eg}{\latinabbrev{e.g}}
\newrobustcmd{\etal}{\latinabbrev{et al}}
\newrobustcmd{\etc}{\latinabbrev{etc}}
\newrobustcmd{\ie}{\latinabbrev{i.e}}

\newrobustcmd{\dice}[1]{{#1}}
\newrobustcmd{\skill}[2][]{{\ifblank{#1}{#2}{#2\,(\num[retain-explicit-plus]{#1})}}}
\newrobustcmd{\modifier}[1]{{\num[retain-explicit-plus]{#1}}}
\newrobustcmd{\dv}[1]{{DV\,#1}}
\newrobustcmd{\sv}[1]{{SV\,#1}}

\newrobustcmd{\eclipsephase}{Eclipse Phase\xspace}
\newrobustcmd{\ep}{EP\xspace}


% Fancy red box for item lists
\newrobustcmd*\itembox{\item[\color{eclipsered}\ding{110}]}


% REMOVE THIS WHEN LEAVING BETA
\newenvironment{warning}
  {\par\begin{mdframed}[linewidth=2pt,linecolor=red]%
    \begin{list}{}{\leftmargin=1cm
                   \labelwidth=\leftmargin}\item[\Large\ding{43}]}
  {\end{list}\end{mdframed}\par}
